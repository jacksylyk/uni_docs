{% extends "base.html" %}

{% block content %}
  <h2 class="text-2xl font-bold mb-4">Сравнение версий: {{ document.title }}</h2>

  {% if message %}
    <p class="text-gray-700">{{ message }}</p>
  {% else %}
    <div class="bg-gray-100 p-4 rounded shadow text-sm whitespace-pre-wrap leading-relaxed">
      {% for line in diff %}
        <p>{{ line|safe }}</p>
      {% endfor %}
    </div>
  {% endif %}

  <a href="{% url 'document_detail' document.id %}" class="inline-block mt-4 text-blue-600 hover:underline">← Назад к документу</a>

  <style>
    .added {
      background-color: #e6ffe6;
      color: green;
      padding: 2px 4px;
      border-radius: 4px;
    }
    .removed {
      background-color: #ffe6e6;
      color: red;
      padding: 2px 4px;
      border-radius: 4px;
      text-decoration: line-through;
    }
  </style>
{% endblock %}
